# コレクターボット

*まだ開発中です

「コレクターボット」は、Discordサーバー内でメンバーがキャラクターを収集し、トレードやコレクションを楽しむためのボットです。ユーザーは毎日のログインボーナスやミッションをクリアしてアイテムを集め、最終的にコレクションを完成させることを目指します。特典やランキングも用意されており、ゲーム感覚で楽しめます。

## 主な機能

- **日替わりログインボーナス**: `/collect daily` で毎日1枚のキャラクターをランダムで獲得します。
- **ミッション型獲得**: `/collect mission` で与えられたタスクをクリアするとアイテムを獲得します。例: 「10メッセージ投稿」や「他のメンバーとトレード」
- **トレードシステム**: `/trade @user アイテムA アイテムB` で他のメンバーとアイテムを交換できます。
- **コレクションチェック**: `/collection view` で自分のコレクションを確認できます。コレクションが完成すると特典（限定アイテムや称号）を付与されます。
- **ランキングシステム**: `/collection leaderboard` で、最も多くのアイテムを集めたメンバーを確認できます。
- **画像表示**: アイテムには名前、レアリティ、画像が付随し、ディスコードのメッセージに表示されます。


## 必要な権限

ボットが正常に動作するためには、以下の権限が必要です。

### 1. **全体の権限**
- **View Channels (チャンネルの閲覧)**: ボットがチャンネルにアクセスできるようにするための基本的な権限です。

### 2. **テキストチャンネルの権限**
- **Send Messages (メッセージを送信)**: ボットがテキストチャンネルでメッセージを送る場合に必要です。
- **Embed Links (リンクの埋め込み)**: ボットが埋め込みメッセージを送信する場合に必要です。
- **Attach Files (ファイルを添付)**: アイテムの画像をメッセージに添付するために必要です。
- **Use Slash Commands (スラッシュコマンドを使用)**: スラッシュコマンドを利用するために必要です。

## .env のテンプレート

以下の内容を `.env`として保存してください。このファイルはボットの環境設定を管理するために使われます。

```env
# .env ファイルのテンプレ

# ボットのトークン
DISCORD_TOKEN=your-bot-token-here

# アイテムのレアリティ確率設定
RARITY_NORMAL=0.7
RARITY_RARE=0.2
RARITY_SUPER_RARE=0.1
```

## 画像のクレジット
以下のサイトから無料素材を使用しています。

- [DOT ILLUST](https://dot-illust.net/)

## ユーザーデータの保存
ユーザーのデータ（コレクション、ログイン連続記録など）は `collections.json` というファイルに保存されます。データはJSON形式で保存され、ボットを再起動してもデータは保持されます。ファイルはボットの実行ディレクトリに保存されます。

## ログ
ボットの動作は `collector_bot.log` にログとして記録されます。これにより、ボットのアクティビティを追跡することができます。